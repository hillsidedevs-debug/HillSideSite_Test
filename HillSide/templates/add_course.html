{% extends "basic.html" %}

{% block content %}
<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-lg-9">

      <div class="card border-0 shadow-sm rounded-4">
        <div class="card-body p-4 p-lg-5">

          <h2 class="fw-bold mb-3 text-center">Add a New Course</h2>
          <p class="text-muted text-center mb-4">
            Fill out the form below to add a new course.
          </p>

          <form
            method="POST"
            enctype="multipart/form-data"
            class="bg-white"
          >
            {# This replaces the manual hidden input and handles the CSRF token #}
            {{ form.hidden_tag() }}

            {# ===== BASIC INFO ===== #}
            <div class="mb-3">
              {{ form.title.label(class="form-label fw-semibold") }}
              {{ form.title(class="form-control") }}
              {% for error in form.title.errors %}
                <span class="text-danger small">{{ error }}</span>
              {% endfor %}
            </div>

            <div class="mb-4">
              {{ form.description.label(class="form-label fw-semibold") }}
              {{ form.description(class="form-control", rows="4") }}
            </div>

            {# ===== META ===== #}
            <div class="row mb-4">
              <div class="col-md-4">
                {{ form.start_date.label(class="form-label fw-semibold") }}
                {{ form.start_date(class="form-control", type="date") }}
              </div>
              <div class="col-md-4">
                {{ form.duration_weeks.label(class="form-label fw-semibold") }}
                {{ form.duration_weeks(class="form-control", min="1") }}
              </div>
              <div class="col-md-4">
                {{ form.total_seats.label(class="form-label fw-semibold") }}
                {{ form.total_seats(class="form-control", min="1") }}
              </div>
            </div>

            {# ===== IMAGE ===== #}
            <div class="mb-4">
              {{ form.image.label(class="form-label fw-semibold") }}
              {{ form.image(class="form-control") }}
            </div>

            <hr class="my-4">

            {# ===== DYNAMIC CONTENT ===== #}
            <div class="mb-4">
              {{ form.who_is_this_for.label(class="form-label fw-semibold") }}
              {{ form.who_is_this_for(class="form-control", rows="3", placeholder="One item per line") }}
            </div>

            <div class="mb-4">
              {{ form.learning_outcomes.label(class="form-label fw-semibold") }}
              {{ form.learning_outcomes(class="form-control", rows="3", placeholder="One item per line") }}
            </div>

            <div class="mb-4">
              {{ form.course_structure.label(class="form-label fw-semibold") }}
              {{ form.course_structure(class="form-control", rows="3", placeholder="One item per line") }}
            </div>

            <hr class="my-4">

            {# ===== INSTRUCTOR ===== #}
            <div class="mb-3">
              {{ form.instructor_name.label(class="form-label fw-semibold") }}
              {{ form.instructor_name(class="form-control") }}
            </div>

            <div class="mb-4">
              {{ form.instructor_bio.label(class="form-label fw-semibold") }}
              {{ form.instructor_bio(class="form-control", rows="3") }}
            </div>

            <hr class="my-4">

            {# ===== FAQ ===== #}
            <div class="mb-4">
              {{ form.faqs.label(class="form-label fw-semibold") }}
              {{ form.faqs(class="form-control", rows="4", placeholder="Question?|Answer (one per line)") }}
            </div>

            <div class="text-center">
              {{ form.submit(class="btn btn-primary rounded-pill px-5 mt-3") }}
            </div>

          </form>

        </div>
      </div>

    </div>
  </div>
</div>
{% endblock %}